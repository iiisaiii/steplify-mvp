<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Steplify â€“ AdÄ±m AdÄ±m Yol HaritalarÄ±</title>
  <meta name="description" content="Affiliate, Dropshipping, YouTube, POD, E-ticaret ve Freelance iÃ§in adÄ±m-adÄ±m planlar. Ä°lk 5 adÄ±m Ã¼cretsiz.">
  <link rel="canonical" href="https://www.steplify.net/">
  <link rel="icon" type="image/svg+xml" href="/public/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/public/favicon.ico">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">Steplify <span class="badge">MVP</span></div>
    <div class="actions">
      <!-- JSON yÃ¼kleme kaldÄ±rÄ±ldÄ± -->
      <select id="modelSelect" class="select"></select>
      <button id="resetProgress" class="btn outline small">Ä°lerlemeyi SÄ±fÄ±rla</button>
      <a id="premiumBtn" class="btn primary small" href="/premium.html">Premium'a GeÃ§</a>
      <!-- Oturum giriÅŸ dÃ¼ÄŸmesi (UI iskeleti) -->
      <button id="loginBtn" class="btn small outline" style="margin-left:.5rem">GiriÅŸ / KayÄ±t</button>
    </div>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <div class="sidebar-head">
        <h3 id="sidebarTitle">AdÄ±mlar</h3>
        <div class="progress"><div id="progressBar"></div></div>
      </div>
      <ul id="stepsList" class="steps"></ul>
    </aside>

    <section class="content">
      <div id="stepView" class="card">
        <h2>HoÅŸ geldin ğŸ‘‹</h2>
        <p>Soldan bir adÄ±m seÃ§ veya Ã¶rnek playbook'larÄ± yÃ¼kle. <b>Freemium:</b> Ä°lk 5 adÄ±m Ã¼cretsiz, sonrasÄ± kilitli.</p>
        <p class="muted">Ä°lerleme tarayÄ±cÄ±da saklanÄ±r (localStorage). Oturum/Ã¼ye olma eklendiÄŸinde ilerleme hesabÄ±na baÄŸlanÄ±p sunucuda eÅŸitlenecektir.</p>

        <div class="demo-tip">
          <strong>Demo:</strong> AÅŸaÄŸÄ±daki butonla Ã¶rnek playbook'larÄ± yÃ¼kleyebilirsin.
          <div style="margin-top:.5rem">
            <button id="loadSample" class="btn small">Ã–rnekleri YÃ¼kle</button>
          </div>
        </div>
      </div>
    </section>

    <aside class="rightbar">
      <div class="card">
        <h3>Kaynaklar</h3>
        <ul id="linksList" class="links"></ul>
      </div>
      <div class="card info">
        <h4>Freemium</h4>
        <p>Ä°lk 5 adÄ±m aÃ§Ä±k. 6. ve sonrasÄ± iÃ§in <b>Premium</b> gerekiyor.</p>
      </div>
    </aside>
  </main>

  <footer class="foot">Â© 2025 Steplify â€” Basit plan, net adÄ±mlar.</footer>

  <!-- Replace the existing authModal block with this one -->
  <div id="authModal" class="modal" style="display:none">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <button id="closeAuth" class="modal-close" aria-label="Kapat">Ã—</button>
      <h3 id="authTitle">GiriÅŸ / KayÄ±t</h3>
      <div id="authBody">
        <form id="authForm" autocomplete="off">
          <div class="form-row">
            <label for="authEmail">E-posta</label><br/>
            <input id="authEmail" name="email" type="email" required placeholder="you@example.com" />
          </div>
          <div class="form-row" style="margin-top:.5rem">
            <label for="authPassword">Parola</label><br/>
            <input id="authPassword" name="password" type="password" required minlength="6" placeholder="En az 6 karakter" />
          </div>
          <div style="margin-top:.75rem; display:flex; gap:.5rem; align-items:center">
            <button id="authSignUp" type="button" class="btn small">KayÄ±t Ol</button>
            <button id="authSignIn" type="button" class="btn primary small">GiriÅŸ Yap</button>
            <button id="authSignOut" type="button" class="btn outline small" style="margin-left:auto">Ã‡Ä±kÄ±ÅŸ</button>
          </div>
          <div id="authStatus" style="margin-top:.75rem;color:#333;font-size:.9rem"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- Supabase JS (tarayÄ±cÄ± iÃ§in) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/supabase.min.js"></script>
  <!-- Supabase UMD CDN + ESM fallback (PLACE THIS BEFORE <script src="app.js"> ) -->
  <script>
    (function(){
      // UMD yÃ¼klemesi iÃ§in jsDelivr
      var s = document.createElement('script');
      s.src = "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/supabase.min.js";
      s.async = false;
      s.onload = function(){ console.log('Supabase UMD loaded (jsdelivr).'); };
      s.onerror = function(){
        console.warn('Supabase UMD failed to load - trying ESM fallback.');
        // ESM fallback - import createClient and attach minimal wrapper to window.supabase
        var m = document.createElement('script');
        m.type = 'module';
        m.textContent = `
          import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
          window.supabase = { createClient };
          console.log('Supabase ESM fallback loaded.');
        `;
        document.head.appendChild(m);
      };
      document.head.appendChild(s);
    })();
  </script>
  <script src="app.js"></script>
</body>
</html>
